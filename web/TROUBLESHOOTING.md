# 문제 해결 가이드

## 현재 수정된 사항

### 1. 배경 이미지 로드 문제
- ✅ 이미지 로드 실패 시 대체 이미지 자동 사용
- ✅ 에러 처리 추가
- ✅ 배경 이미지가 로드되지 않으면 그라데이션 배경 사용

### 2. 녹음 기능 개선
- ✅ Web Speech API 에러 처리 강화
- ✅ 마이크 권한 오류 메시지 개선
- ✅ 음성 인식 실시간 피드백 추가
- ✅ 녹음 중지 후 자동 재시작 기능

### 3. 평가 기능 개선
- ✅ 녹음 평가 결과 표시 개선
- ✅ 채팅 입력 후 자동 평가 기능 확인
- ✅ 평가 결과 시각화 강화

## API 키 관련 참고사항

### Google Cloud API 키
현재 코드는 **백엔드 프록시를 통한 사용**을 권장합니다. 클라이언트 사이드에 API 키를 노출하면 보안 문제가 발생할 수 있습니다.

### 이미지 생성 API
- `image.pollinations.ai`는 무료 API이지만, 이미지 로드가 실패할 수 있습니다.
- 이미지 로드 실패 시 자동으로 대체 이미지(UI Avatars)를 사용합니다.

### 음성 인식
- **Web Speech API**: Chrome, Edge에서 작동 (무료, API 키 불필요)
- **Google Cloud Speech-to-Text**: 백엔드 서버 필요 (API 키 필요)

## 문제 해결 체크리스트

### 배경 이미지가 보이지 않는 경우
1. 브라우저 콘솔(F12)에서 이미지 로드 오류 확인
2. 네트워크 탭에서 이미지 요청 상태 확인
3. 대체 이미지가 자동으로 표시되는지 확인

### 녹음 기능이 작동하지 않는 경우
1. **브라우저 확인**: Chrome 또는 Edge 사용 (Web Speech API 지원)
2. **마이크 권한**: 브라우저 설정에서 마이크 권한 허용
3. **HTTPS**: 일부 브라우저는 HTTPS에서만 마이크 접근 허용
4. **콘솔 확인**: F12로 오류 메시지 확인

### 평가 기능이 작동하지 않는 경우
1. 채팅 입력 후 "전송 & 평가" 버튼 클릭 확인
2. 브라우저 콘솔에서 JavaScript 오류 확인
3. 평가 결과 요약 카드가 표시되는지 확인

## 다음 단계 (선택사항)

### Google Cloud API 사용을 원하는 경우
1. 백엔드 서버 구축 (`backend_example.js` 참고)
2. 환경 변수에 API 키 설정
3. `/api/transcribe`, `/api/synthesize` 엔드포인트 구현
4. `app.js`의 주석 처리된 코드 활성화

### 이미지 생성 개선
1. 다른 이미지 생성 API 사용 (예: DALL-E, Midjourney)
2. 이미지 캐싱 구현
3. 로컬 이미지 사용


